<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>214 Bộ Thủ Kanji Cơ Bản</title>
	<link rel="icon" href="/img/favicon.ico" type="image/png" sizes="16x16 32x32">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
	<!-- Datatable -->
	<link rel="stylesheet" href="/datatables/css/dataTables.bootstrap4.min.css">
	<!-- iconfont CSS -->
	<link rel="stylesheet" href="/lib/icofont/icofont.min.css">
	<!-- AOS -->
	<link rel="stylesheet" href="/lib/aos/aos.css">
	<!-- style -->
	<link rel="stylesheet" href="/css/style.css" />
</head>

<body>
	<div class="jumbotron text-center" style="margin-bottom: 0">
		<h1 th:text="${name}" />
		<p>Cần nhớ trong Tiếng Nhật!</p>
	</div>
	<div class="container" data-aos="fade-up">
		<div class="row">
			<div class="col-md-12">
				<div class="card">
					<div class="card-body">
						<p id="kanjiText" class="text-center kanji-text" title="Chạm để chọn chữ ngẫu nhiên">漢字</p>
					</div>
					<div class="card-footer">
						<div class="form-check">
							<label class="form-check-label" title="Hiển thị nghĩa của từ"> <input
									id="show-comment-check" type="checkbox" class="form-check-input" checked> <span>Hiển
									thị nghĩa</span>
							</label>
						</div>
						<label id="comment"></label>
					</div>
				</div>
			</div>
		</div>
		<div class="row" data-aos="fade-up-right">
			<div class="col-lg-12">
				<br>
				<button type="button" id="loadKanji-button" class="btn btn-dark">Hiển thị 214 bộ thủ</button>
				<br>
			</div>
		</div>
		<div class="row" id="all-kanji-section" data-aos="fade-up">
			<div class="col">
				<table id="kanjiTable" class="table table-striped table-bordered" style="width: 100%">
					<thead>
						<tr>
							<th>TT</th>
							<th>Bộ</th>
							<th>Giải Nghĩa</th>
							<th>Số Nét</th>
							<th>Ghi chú</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="kanjiBasic: ${kanjiBasicList}">
							<td th:text="${kanjiBasic.id}" />
							<td th:text="${kanjiBasic.name}" />
							<td th:text="${kanjiBasic.content}" />
							<td th:text="${kanjiBasic.stroke}" />
							<td th:text="${kanjiBasic.note}" />
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th>TT</th>
							<th>Bộ</th>
							<th>Giải Nghĩa</th>
							<th>Số Nét</th>
							<th>Ghi chú</th>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
	</div>

	<div class="jumbotron text-center" style="margin-bottom: 0">
		<p>Tiếng Nhật Vui 2021</p>
	</div>

	<!-- Back To Top -->
	<a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

</body>
<!-- Script -->
<script src="/jquery/jquery.min.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
<script src="/popper.js/umd/popper.min.js"></script>
<!-- Datatable -->
<script src="/datatables/js/jquery.dataTables.min.js"></script>
<script src="/datatables/js/dataTables.bootstrap4.min.js"></script>
<!-- Jquery easing -->
<script src="lib/jquery.easing/jquery.easing.min.js"></script>
<!-- AOS -->
<script src="/lib/aos/aos.js"></script>

<script src="/js/main.js"></script>
<script lang="javascript">
	"use strict";
	$(document).ready(function () {
		// Variable
		let index;
		let commentTag = $("#comment");
		let kanjiTag = $("#kanjiText");
		let showCommentCheck = $("#show-comment-check");
		let comment;
		let showKanji;
		let kanjiTable = $("#kanjiTable");

		// Text Click
		$("#kanjiText").on("click", function () {
			randomKanji()
		});

		// Checkbox Show Comment Button
		$("#show-comment-check").on("click", function () {
			showComment();
		});

		// Common Function
		function randomKanji() {
			// random index from 1-214 words
			index = Math.floor(Math.random() * 214);

			comment = kanjiArray[index];
			showKanji = comment.substring(4, 7);

			kanjiTag.text(showKanji);
			commentTag.text(comment);
			console.log(showKanji);
			console.log(comment);
			showComment();
		}

		function showComment() {
			if ($("#show-comment-check").is(":checked")) {
				kanjiTag.attr("title", comment);
				$("#comment").show();
			} else {
				kanjiTag.attr("title", "");
				$("#comment").hide();
			}
		}

		// Datatable
		$('#kanjiTable').DataTable();

		$("#loadKanji-button").on("click", function () {
			showOrHideTable();
		});

		var isAllKanjiShow = false;
		function showOrHideTable() {
			if (isAllKanjiShow) {
				$('#all-kanji-section').hide();
				$("#loadKanji-button").text("Hiển thị 214 bộ thủ");
				console.log("--" + isAllKanjiShow);
				isAllKanjiShow = false;
			} else {
				$('#all-kanji-section').show();
				$("#loadKanji-button").text("Ẩn");
				console.log("--" + isAllKanjiShow);
				isAllKanjiShow = true;
			}
		}

		showOrHideTable();

	});
</script>
<!-- ./ Script -->

</html>